# Chapter 2 线性表

## 逻辑结构

定义：线性表是由 n ($n \ge 0$) 个类型相同的数据元素 $a_1, a_2, ..., a_n$ 组成的有限序列，记作 $(a_1, a_2, a_3, ..., a_n)$。

- $a_i$ 表示线性表中的数据元素，n 是线性表长度
- $a_{i-1}$ 称为 $a_i$ 的直接前继，$a_{i+1}$ 称为 $a_i$ 的直接后继
- 在较为复杂的线性表中，数据元素可能由多个数据项组成

## 存储结构

### 线性表的顺序存储结构

线性表的顺序存储结构：将线性表中的元素相继存放在一个连续的存储空间中。

- 以元素在计算机内“物理位置相邻”来表示线性表中数据元素之间的逻辑关系，叫做线性表的**顺序存储结构**或顺序映像。这种存储结构的线性表叫**顺序表**。

- 假设线性表中有 n 个元素，每个元素占 k 个单元，第一个元素的地址为 $loc(a_1)$，则可以通过如下公式计算出第 i 个元素的地址 $loc(a_i)$：$loc(a_i) = loc(a_1) + (i - 1)*k$

优点：

- 顺序表结构简单，存储效率高 (紧凑结构)
- **随机存取 (random access) 的存储结构 (即在相同的时间内能访问任意元素)**

缺点：

- 在顺序表中进行插入和删除操作时，需要移动其他元素
- 对长度变化较大的线性表，或者要预先分配较大空间或者要经常扩充线性表

### 线性表的链式存储结构

线性表的链式存储结构：用一组任意的存储单元存储线性表的数据元素（存储单元可以是连续的，也可以是不连续的）；除了存储数据信息之外，还需要存储一个指示其直接后续的信息（直接后续的存储位置）。这种存储结构的线性表叫做**链表**。

- 存储数据元素信息的域称为数据域，存储直接后续存储位置的域称为指针域

- 每个元素的存储位置由其直接前驱的指针域指示
- 链式结构中的尾节点的直接后续为空（对于一般的单链表）
- 非随机存取的存储结构 (访问不同的元素需要不同的时间)

> **链表中的节点和节点内部的存储空间是连续的**。

理解头指针、头节点、首元结点的区别：

- 头指针：头指针是在对链表进行插入、删除、查找等等操作时用于遍历链表而设置的
- 头节点：链表的第一个节点 (**并不是所有链表都有头节点**)
- 首元结点：链表用于实际存储内容的第一个节点

> 头指针 p
>          ↓
> [头节点] → [首元结点] → [第二结点] → … → NULL

除了最简单的单向链表之外，还有循环链表、双向链表、双向循环链表。

## 顺序表和链表的比较

空间上的比较：

- 链表除了需要保存数据域，还需要保存指针域，储存密度 (数据本身占用的储存量 / 整个结构占用的存储量) 相较于顺序表来说不经济

时间上的比较：

- 顺序表是随机存取结构，访问任意元素都使用相同的时间；链表是非随机存取结构，访问不同的元素消耗的时间不同，总体来说时间消耗更大

